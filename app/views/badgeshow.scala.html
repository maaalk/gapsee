
@(badge: Badge, evidenceList:List[Evidence], role:String)

@main("Details"){
      <div class="container">
        <div class="row">
            <div class="row"></div>

            <div class="chip">
                <a href="@routes.CourseController.show(badge.getLevel.getCourse.getId)"><b><< </b>@badge.getLevel.getCourse.getName</a>
            </div>

            <p>@role</p>

            <p><b>Task #@badge.getId</b></p>
            <div class="col s3 m2">
                @if(badge.getTier==1){
                    <img class="responsive-img" src="@routes.Assets.versioned("images/trophyt1.png")" >
                }
                @if(badge.getTier==2){
                    <img class="responsive-img" src="@routes.Assets.versioned("images/trophyt2.png")">
                    }
                @if(badge.getTier==3){
                    <img class="responsive-img" src="@routes.Assets.versioned("images/trophyt3.png")" >
                    }

            </div>
            <div class="col s9 m10">
                <p style="font-style: italic">@badge.getName</p>
            </div>

        </div>


        <p><b>Description:</b> @badge.getDescription</p>
        <p><b>Topic:</b> @badge.getTopic</p>
        <p><b>Deadline:</b> @badge.showFinalDate</p>
        <p><b>Level:</b> @badge.getLevel.getLevelName</p>


        @if(badge.getStatus.equals(BadgeStatus.SUBMITTED)||(badge.getStatus.equals(BadgeStatus.EARNED))){
            <div class="row">
                <a  class="btn yellow darken-4 disabled" href="@routes.EvidenceController.create(badge.getId)"> Submit Evidence</a>
            </div>
        } else {
            <div class="row">
                <a  class="btn waves-effect waves-light yellow darken-4" href="@routes.EvidenceController.create(badge.getId)">Submit Evidence</a>
            </div>
        }


        @for(evidence<-evidenceList) {
            <div class="divider"></div>
            <br/>

            @*Feedback*@
            <div id="feedback@evidence.getId" class="row ">
                @if(evidence.getStatus.equals(EvidenceStatus.ACCEPTED)){
                    <div class="col s10 l8 offset-s2 offset-l4">
                        <div class="card green lighten-5">
                            <div class="card-content">
                                <p class="grey-text darken-3 right-align" style="font-size: x-small"> <i class="material-icons tiny">thumb_up</i> Accepted in <b><i>@evidence.showFeedbackDate()</i></b></p>
                                <p><b>Feedback: </b> <i>@evidence.getFeedback</i> </p>
                            </div>
                        </div>
                    </div>
                }
                @if(evidence.getStatus.equals(EvidenceStatus.REJECTED)){
                    <div class="col s10 l8 offset-s2 offset-l4">
                        <div class="card deep-orange lighten-5">
                            <div class="card-content">
                                <p class="grey-text darken-3 right-align" style="font-size: x-small"> <i class="material-icons tiny">thumb_down</i> Declined in <b><i>@evidence.showFeedbackDate()</i></b></p>
                                <p><b>Feedback: </b> <i>@evidence.getFeedback</i> </p>
                            </div>

                        </div>
                    </div>
                }

            </div>

            @*Evidence*@
            <div class="row">
                <div class="col s10 l8 ">
                    <div class="card yellow lighten-5">
                        <div class="card-content">
                            <p class="grey-text darken-3 right-align" style="font-size: x-small"> <i class="material-icons tiny">date_range</i><b><i>@evidence.showSubmissionDate()</i></b></p>
                            <p><b>Evidence: </b> <a href="@routes.EvidenceController.evidenceDownload(evidence.getId)" download="@evidence.getFileName">@evidence.getFileName</a></p>
                            <p><b>Description: </b> <i>@evidence.getDescription</i> </p>
                            <p></p>
                        </div>

                        <br/>
                    </div>
                        @if(evidence.getStatus.equals(EvidenceStatus.NEW) && ((role=="STUDENT")||(role=="ADMIN"))){
                            <div class="col s3 m4">
                                <a class=" btn-flat grey-text" href="@routes.EvidenceController.edit(evidence.getId)"><i class="material-icons left tiny green-text">edit</i><span class="hide-on-med-and-down">Edit</span></a>
                            </div>
                            <div class="col s3 m4">
                                <a class=" btn-flat grey-text "><i class="material-icons left tiny red-text">close</i><span class="hide-on-med-and-down">Remove</span></a>
                            </div>
                        }
                    @if((role=="TUTOR")||(role=="ADMIN")){
                        <div class="col s3 m4">
                            <a class=" btn-flat grey-text " href="@routes.EvidenceController.evaluate(evidence.getId)"><i class="material-icons left tiny light-green-text">thumbs_up_down</i> <span class="hide-on-med-and-down">Evaluate</span></a>
                        </div>
                    }

                    <br/>
                </div>

            </div>

        }
    </div>




}

